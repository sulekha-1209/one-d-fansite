<div class="card card-info">

  <!-- Loading state -->
  <div *ngIf="loading" class="card-body text-center" style="padding: 2rem;">
    <p class="text-white">Loading...</p>
  </div>

  <!-- Error state -->
  <div *ngIf="error && !loading" class="card-body text-center" style="padding: 2rem;">
    <p class="text-white">Could not load artist data.</p>
  </div>

  <!-- Loaded state -->
  <div *ngIf="!loading && !error && artistData">
    <div class="card-header">
      <h4 class="card-title">{{artistData.name}}</h4>
    </div>
    <div class="card-body">
      <div style="padding:1rem">
        <img src="{{artistData.images[0].url}}" alt="{{artistData.name}}" class="card-image">
      </div>

      <!-- Social links -->
      <div class="row">
        <div style="margin: auto;">
          <a *ngIf="artistData.socials?.instagram" href="{{artistData.socials.instagram}}" target="_blank">
            <button class="btn btn-danger btn-icon btn-round mr-1" type="button"><i class="fab fa-instagram"></i></button>
          </a>
          <a *ngIf="artistData.socials?.twitter" href="{{artistData.socials.twitter}}" target="_blank">
            <button class="btn btn-danger btn-icon btn-round mr-1" type="button"><i class="fab fa-twitter"></i></button>
          </a>
          <a *ngIf="artistData.socials?.youtube" href="{{artistData.socials.youtube}}" target="_blank">
            <button class="btn btn-danger btn-icon btn-round mr-1" type="button"><i class="fab fa-youtube"></i></button>
          </a>
          <a *ngIf="artistData.socials?.itunes" href="{{artistData.socials.itunes}}" target="_blank">
            <button class="btn btn-danger btn-icon btn-round mr-1" type="button"><i class="fab fa-itunes"></i></button>
          </a>
          <a href="{{artistData.spotifyLink}}" target="_blank">
            <button class="btn btn-danger btn-icon btn-round mr-1" type="button"><i class="fab fa-spotify"></i></button>
          </a>
        </div>
      </div>

      <!-- Spotify embed â€” updated URL format with utm_source=generator -->
      <div>
        <iframe style="padding-top: 2rem; border-radius: 12px;"
          [src]="artistData.embedLink"
          height="352"
          width="100%"
          frameborder="0"
          allowtransparency="true"
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
          loading="lazy">
        </iframe>
      </div>
    </div>
  </div>

</div>
